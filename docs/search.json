[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Land Use and Land Cover Maps for Brazil Emissions Reporting",
    "section": "",
    "text": "Welcome\nThis on-line book contains information on the generation of annual land use and land cover (LULC) maps for the Brazilian Amazon biome for the period 2000-2024. The resulting data set is part of the LUC-Brazil initiative, which aims to produce annual LUCC maps for Brazil in the 2020-2024 period. This data set has been produced by Brazil’s National Institute for Space Research (INPE) with the support of the RESTORE+ project, at the request of Brazil’s Ministry of Science and Technology, through its General Coordination for Climate Science (GCCL) . Its primary purpose is to support the Brazilian government in the production of its National Inventory of Greenhouse Gases Emissions."
  },
  {
    "objectID": "index.html#requirements",
    "href": "index.html#requirements",
    "title": "Land Use and Land Cover Maps for Brazil Emissions Reporting",
    "section": "Requirements",
    "text": "Requirements\nThe requirements set forth by GCCL/MCTI are as follows:\n\nThe LULC classes need to be compatible with the categorization used in the Brazilian Inventory of GHG Emissions.\nThe maps should be compatible with those produced by the TerraClass project run by INPE and EMBRAPA, especially with those for the years 2018, 2020 and 2022."
  },
  {
    "objectID": "index.html#methodology-overview",
    "href": "index.html#methodology-overview",
    "title": "Land Use and Land Cover Maps for Brazil Emissions Reporting",
    "section": "Methodology Overview",
    "text": "Methodology Overview\nThe LUC-Brasil project is developed based on the analysis of satellite image time series, using the sits open source software package and the Brazil Data Cube infrastructure. Combined with Earth observation data cubes, time series are a powerful tool for monitoring change, providing insights and information that single snapshots cannot achieve. Time series analysis are a new and exciting paradigm. Using time series, experts improve their understanding of ecological patterns and processes. Instead of selecting individual images from specific dates and comparing them, researchers track change continuously.\nThe sits package is described on the on-line book Satellite Image Time Series Analysis Using Earth Observation Data Cubes."
  },
  {
    "objectID": "index.html#project-team",
    "href": "index.html#project-team",
    "title": "Land Use and Land Cover Maps for Brazil Emissions Reporting",
    "section": "Project Team",
    "text": "Project Team\nThe project is led by Prof. Dr. Isabel Escada and Prof. Dr. Gilberto Camara (INPE), with the support of the RESTORE+ team: Dr. Ana Paula Dal’Asta, Dr. Ana Rorato, Dr. Anielli Souza, Dr. Rolf Simões, MSc Felipe Carlos, MSc Felipe Souza."
  },
  {
    "objectID": "index.html#intellectual-property-rights",
    "href": "index.html#intellectual-property-rights",
    "title": "Land Use and Land Cover Maps for Brazil Emissions Reporting",
    "section": "Intellectual property rights",
    "text": "Intellectual property rights\nThis book is licensed as Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0) by Creative Commons."
  },
  {
    "objectID": "data.html#scope",
    "href": "data.html#scope",
    "title": "Data Sets",
    "section": "Scope",
    "text": "Scope\nFor the Amazon biome, the LUC-Brasil repository implements a comprehensive land cover classification system using Landsat satellite imagery from 2000 to 2024. The system produces annual land cover masks through a multi-stage pipeline that combines machine learning classification, temporal rule processing, and year-specific refinement using reference datasets from PRODES and TerraClass. The work processed 25 years of historical data to generate classified masks at 30-meter resolution, supporting deforestation monitoring and land use analysis in the Amazon region."
  },
  {
    "objectID": "data.html#image-data",
    "href": "data.html#image-data",
    "title": "Data Sets",
    "section": "Image Data",
    "text": "Image Data\nThe classification uses Landsat imagery from two distinct sources, each optimized for different temporal periods. This stage produces regularized datacubes with consistent 30m spatial resolution and regular temporal intervals.\n\nGLAD Landsat Historical Data\nHistorical data for years 2000 to 2014 uses the GLAD (Global Land Analysis & Discovery) service accessed through the OGH (OpenGeoHub) interface. The regularization process aggregates observations into bi-monthly periods. The OGH (OpenGeoHub) service provides access to historical Landsat imagery through the GLAD (Global Land Analysis & Discovery) processing system. This source is used for historical datacube generation.\nTechnical Specifications\n\n\n\nProperty\nValue\n\n\n\n\nSource identifier\n\"OGH\"\n\n\nCollection name\n\"LANDSAT-GLAD-2M\"\n\n\nTemporal coverage\n2002-2014\n\n\nTemporal resolution\nBi-monthly (P2M)\n\n\nSpatial resolution\n30 meters\n\n\nCoordinate system\nEPSG:4326 (WGS84)\n\n\nSpectral bands\nBLUE, GREEN, RED, NIR, SWIR1, SWIR2\n\n\n\n\n\nBDC Recent Landsat Data\nThe Brazil Data Cube (BDC) provides access to recent Landsat imagery through a pre-processed, analysis-ready data cube infrastructure maintained by INPE (Brazilian National Institute for Space Research). Recent data from 2015-2024 leverages the Brazil Data Cube (BDC) infrastructure, which provides higher temporal density with monthly aggregation.\n\n\n\nProperty\nValue\n\n\n\n\nSource identifier\n\"BDC\"\n\n\nCollection name\n\"LANDSAT-OLI-16D\"\n\n\nTemporal coverage\n2015-2024\n\n\nTemporal resolution\nMonthly (P1M)\n\n\nSpatial resolution\n30 meters\n\n\nCoordinate system\nBDC_MD_V2 grid system\n\n\nSpectral bands\nBLUE, GREEN, RED, NIR08, SWIR16, SWIR22, CLOUD"
  },
  {
    "objectID": "data.html#map-data-sources",
    "href": "data.html#map-data-sources",
    "title": "Data Sets",
    "section": "Map Data Sources",
    "text": "Map Data Sources\nThis section lists the maps used in the LUC-Brasil project as additional information, mostly as masks to improve the spatial and temporal accuracy of the result.\n\nPRODES Deforestation Data\nPRODES (Programa de Monitoramento do Desmatamento na Amazônia Legal) is Brazil’s official deforestation monitoring program, maintained by INPE. It provides annual deforestation polygons for the Legal Amazon region. PRODES masks are referenced by multiple reclassification rules throughout the year-specific mask generation process.\nTechnical Specifications\n\n\n\n\n\n\n\nProperty\nValue\n\n\n\n\nTemporal coverage\n2000-2025\n\n\nUpdate frequency\nAnnual\n\n\nSpatial resolution\nVector polygons and raster mask\n\n\nKey attributes\nDeforestation year, forest/non-forest classification\n\n\nUsage context\nForest mask generation, deforestation reclassification rules\n\n\n\n\n\nTerraclass Land Cover Surveys\nTerraclass is a land use and land cover mapping project for the Brazilian Legal Amazon, produced by INPE and Embrapa. Unlike PRODES (annual), Terraclass provides detailed land cover classifications at specific survey years. Terraclass provides detailed land cover classifications that are used for various reclassification rules.\nTechnical Specifications\n\n\n\n\n\n\n\nProperty\nValue\n\n\n\n\nSurvey years\n2004, 2008, 2010, 2012, 2014, 2018, 2020, 2022 (8 surveys)\n\n\nUpdate frequency\nIrregular\n\n\nSpatial resolution\nVector polygons and raster maps\n\n\nKey classes\nSilviculture, Pereniall, Semiperennial and Annual agriculture, Urban area, Water\n\n\n\n\n\nWater Masks\nWater masks are used in temporal consistency rules to identify persistent water bodies across multiple years. These are primarily utilized in temporal processing rules rather than base mask preparation.\nTechnical Specifications\n\n\n\nProperty\nValue\n\n\n\n\nPrimary source\nTerraclass water class\n\n\nTemporal window\n2000-2025\n\n\nPurpose\nIdentify stable water bodies vs. temporary flooding"
  },
  {
    "objectID": "data.html#sample-datasets",
    "href": "data.html#sample-datasets",
    "title": "Data Sets",
    "section": "Sample Datasets",
    "text": "Sample Datasets\nThis section lists the ground samples used by the LUC-Brasil project team as initial sources to select the training data used to build the modules for classification. These data sets are openly available in the Github repository lulcbrasil-samples.\n\nLand Use and Land Cover in Baixo Tocantins (1996)\nThe following table presents the metadata of this dataset:\n\n\n\n\n\n\n\nRegion\nBaixo Tocantins in Para state (Brazil)\n\n\n\n\nNumber of Time Series\n465\n\n\nSatellite-Sensor\nLANDSAT-OLI\n\n\nSpatial Resolution\n30 meters\n\n\nTemporal Extent\n1996-01-01 to 1996-12-31\n\n\nTemporal Resolution\n3-month composites (4 data points per year)\n\n\nSpectral Bands\nBLUE, GREEN, RED, NIR08, SWIR16, SWIR22\n\n\nSpectral Indices\nNDVI, EVI, MNDWI, NBR\n\n\nLand Cover Classes\nSmall-Scale Agriculture, Water Bodies, Primary Forest, Others, Clean Pasture, Dirty Pasture and Pasture with Regeneration, Urbanized Area, Advanced Secondary Vegetation, Initial Secondary Vegetation\n\n\nSource\nAnielli Souza, Miguel Monteiro, Isabel Escada (INPE)\n\n\n\n\n\nLand Use and Land Cover in Baixo Tocantins (2021)\n\n\n\n\n\n\n\nRegion\nBaixo Tocantins in Para state (Brazil)\n\n\n\n\nNumber of Time Series\n533\n\n\nSatellite-Sensor\nLANDSAT-OLI\n\n\nSpatial Resolution\n30 meters\n\n\nTime Extent\n2021-01-01 to 2021-12-31\n\n\nSpectral Bands\nBLUE, GREEN, RED, NIR08, SWIR16, SWIR22\n\n\nSpectral Indices\nNDVI, EVI, MNDWI, NBR\n\n\nLand Cover Classes\nSmall-Scale Agriculture, Water, Forest, Others, Clean Pasture, Dirty Pasture and Pasture with Regeneration, Urban Area, Advanced Secondary Vegetation, Secondary Vegetation, Large-Scale Agriculture\n\n\nSource\nAnielli Souza, Miguel Monteiro, Isabel Escada (INPE)\n\n\n\n\n\nLULC in Baixo Tocantins using HLSL30 (2021)\n\n\n\n\n\n\n\nRegion\nBaixo Tocantins in Para state (Brazil)\n\n\n\n\nNumber of Time Series\n533\n\n\nSatellite-Sensor\nHLSL30\n\n\nSpatial Resolution\n30 meters\n\n\nTime Extent\n2021-01-01 to 2021-12-31\n\n\nSpectral Bands\nBLUE, GREEN, RED, NIR08, SWIR16, SWIR22\n\n\nSpectral Indices\nNDVI, EVI, MNDWI, NBR\n\n\nSource\nAnielli Souza, Miguel Monteiro, Isabel Escada (INPE)\n\n\n\n\n\nLand Cover in the Amazon Rainforest using LANDSAT (2020)\n\n\n\n\n\n\n\nRegion\nAmazon Rainforest\n\n\n\n\nNumber of Time Series\n1489\n\n\nSatellite-Sensor\nLANDSAT-OLI\n\n\nSpatial Resolution\n30 meters\n\n\nTime Extent\n2020-01-01 to 2020-12-31\n\n\nSpectral Bands\nBLUE, GREEN, RED, NIR08, SWIR16, SWIR22\n\n\nSpectral Indices\nNDVI, EVI, MNDWI, NBR\n\n\nLand Cover Classes\nForest\n\n\nSource\nLuis Sadeck (INPE)\n\n\n\n\n\nLand Cover in the Amazon Rainforest using HLSL30 for 2020\n\n\n\n\n\n\n\nRegion\nAmazon Rainforest\n\n\n\n\nNumber of Time Series\n1489\n\n\nSatellite-Sensor\nHLSL30\n\n\nSpatial Resolution\n30 meters\n\n\nTime Extent\n2020-01-01 to 2020-12-31\n\n\nSpectral Bands\nBLUE, GREEN, RED, NIR08, SWIR16, SWIR22\n\n\nSpectral Indices\nNDVI, EVI, MNDWI, NBR\n\n\nLand Cover Classes\nForest\n\n\nSource\nLuis Sadeck (INPE)\n\n\n\n\n\nLand Use and Land Cover in Rondonia using LANDSAT for 1988\n\n\n\n\n\n\n\nRegion\nRondonia state (Brazil)\n\n\n\n\nNumber of Time Series\n1104\n\n\nSatellite-Sensor\nLANDSAT-OLI\n\n\nSpatial Resolution\n30 meters\n\n\nTime Extent\n1988-01-01 to 1988-12-31\n\n\nSpectral Bands\nBLUE, GREEN, RED, NIR08, SWIR16, SWIR22\n\n\nSpectral Indices\nNDVI, EVI, NBR\n\n\nLand Cover Classes\nClear_Cut_Bare_Soil, Clear_Cut_Burned_Area, Clear_Cut_Vegetation, Forest, Water, Moist_Land, Wetland, Moist_Soil, Riparian_Forest, Mountainside_Forest, Eutrophic_Soil, Dystrophic_Soil\n\n\nSource\nLucas Ferreira (INPE)\n\n\n\n\n\nLand Use and Land Cover in Rondonia using LANDSAT for 2022\n\n\n\n\n\n\n\nRegion\nRondonia state\n\n\n\n\nNumber of Time Series\n6007\n\n\nSatellite-Sensor\nLANDSAT-OLI\n\n\nSpatial Resolution\n30 meters\n\n\nTime Extent\n2022-01-01 to 2022-12-31\n\n\nSpectral Bands\nBLUE, GREEN, RED, NIR08, SWIR16, SWIR2\n\n\nSpectral Indices\nNDVI, EVI, , NBR\n\n\nLand Cover Classes\nClear_Cut_Bare_Soil, Clear_Cut_Burned_Area, Clear_Cut_Vegetation, Forest, Mountainside_Forest, Riparian_Forest, Seasonally_Flooded, Water, Wetland\n\n\nSource\nAnielli Souza, Ana Paula Del’Asta, Ana Rorato (INPE)\n\n\n\n\n\nLand Use and Land Cover in Amazon Biome using LANDSAT for 2013-2014\n\n\n\n\n\n\n\nRegion\nAmazon Biome (Brazil)\n\n\n\n\nNumber of Time Series\n598\n\n\nSatellite-Sensor\nLANDSAT-ETM\n\n\nSpatial Resolution\n30 meters\n\n\nTime Extent\n2013-09-01 to 2014-06-01\n\n\nSpectral Bands\nBLUE, GREEN, RED, NIR08, SWIR16, SWIR22\n\n\nSpectral Indices\nNDVI, EVI, MNDWI, NBR\n\n\nLand Cover Classes\nPasture, Savanna, Soy_Fallow, Soy_Corn, Soy_Cotton\n\n\nSource.\nRolf Simoes (INPE)\n\n\n\n\n\nLand Use and Land Cover in Legal Amazon using LANDSAT for 2019-2020\n\n\n\n\n\n\n\nRegion\nLegal Amazon (Brazil)\n\n\n\n\nNumber of Time Series\n35723\n\n\nSatellite-Sensor\nLANDSAT-OLI\n\n\nSpatial Resolution\n30 meters\n\n\nTime Extent\n2019-07-28 to 2020-07-27\n\n\nSpectral Bands\nBLUE, GREEN, RED, NIR08, SWIR16, SWIR22\n\n\nSpectral Indices\nNDVI, EVI\n\n\nLand Cover Classes\nSemi-Perenial Agriculture, Annual Agriculture 1 cycle, Annual Agriculture 2 cycles, Perenial Agriculture, Water Bodies, Shrubby Pasture, Herbaceous Pasture, Silviculture, Secondary Vegetation\n\n\nSource\nEmpresa Brasileira de Pesquisa Agropecuária - EMBRAPA\n\n\n\n\n\nLand Use and Land Cover in Legal Amazon using LANDSAT for 2021-2022\nThe following table presents the metadata of this dataset:\n\n\n\n\n\n\n\nRegion\nLegal Amazon (Brazil)\n\n\n\n\nNumber of Time Series\n160496\n\n\nSatellite-Sensor\nLANDSAT-OLI\n\n\nSpatial Resolution\n30 meters\n\n\nTime Extent\n2021-07-12 to 2022-09-30\n\n\nSpectral Bands\nBLUE, GREEN, RED, NIR08, SWIR16, SWIR22\n\n\nSpectral Indices\nNDVI, EVI, MNDWI, NBR\n\n\nLand Cover Classes\n1ciclo, 2ciclos, agua, past_arb, past_herb, semiperene, veg_natural\n\n\nLand Cover Classes\nSemi-Perenial Agriculture, Annual Agriculture 1 cycle, Annual Agriculture 2 cycles, Water Bodies, Shrubby Pasture, Herbaceous Pasture, Natural Vegetation\n\n\nSource\nEmpresa Brasileira de Pesquisa Agropecuária - EMBRAPA"
  },
  {
    "objectID": "methods.html#land-use-and-land-cover-classes",
    "href": "methods.html#land-use-and-land-cover-classes",
    "title": "Methods",
    "section": "Land Use and Land Cover Classes",
    "text": "Land Use and Land Cover Classes\nThe Brazilian National Inventory of Greenhouse Gases Emissions (Inventory) defines a set of land use and land cover classes to be used to estimate the GHG emissions from the AFOLU (Agriculture, Forest and Other Land Uses) sector. However, some of these classes cannot reliably be identified in LANDSAT images, even with advanced machine learning methods. Therefore, the LUC-Brazil project has defined a set of classes relevant to the Inventory shown in Table 1. These classes will later be converted conversion to the Inventory LUCC classes.\n\n\nTable 1: LULC classes in LUC-Brazil Amazonia\n\nIPCC Classes\nLUC BRAZIL Amazonia\n\n\n\nForest\nPrimary Forest\n\n\n\nSecondary Vegetation\n\n\n\nSilviculture\n\n\nCropland\nAnnual Agriculture\n\n\n\nSemi-Perennial Agriculture\n\n\n\nPerennial Agriculture\n\n\nGrassland\nPasture\n\n\n\nNatural Non-Forest Vegetation\n\n\nWetland\nWater Bodies\n\n\n\nWetlands\n\n\nSettlements\nUrban Areas\n\n\nOthers\nMining\n\n\n\nDeforestation"
  },
  {
    "objectID": "methods.html#processing-overview",
    "href": "methods.html#processing-overview",
    "title": "Methods",
    "section": "Processing Overview",
    "text": "Processing Overview\nThe classification system operates through distinct stages, each handling a specific aspect of the data transformation pipeline from raw satellite imagery to final classified masks.\n\n\nDatacube Generation: Raw Landsat data from multiple sources is regularized into consistent 30m resolution time series for each year.\n\nSample Selection and Analysis : The project uses a large set of samples containing ground truth information for selected location, described in the data section. These samples are analyzed using: (a) visual interpretation of high-resolution images; (b) quality control methods including self-organized maps. If required, the training set is rebalanced to account for underrepresented classes.\n\nModel Training; Using the cleaned set of samples to derive a machine learning model for classification based on the Random Forest algorithm.\n\nClassification: The Random Forest models classify regularized datacubes into initial land cover categories.\n\nTemporal Processing and Year-Specific Refinement: Multi-year rules refine classifications by analyzing temporal patterns. Individual annual masks undergo sequential reclassification rules."
  },
  {
    "objectID": "methods.html#stage-1-datacube-generation",
    "href": "methods.html#stage-1-datacube-generation",
    "title": "Methods",
    "section": "Stage 1: Datacube Generation",
    "text": "Stage 1: Datacube Generation\nThe pipeline begins by ingesting raw Landsat imagery from two distinct sources, each optimized for different temporal periods. This stage produces regularized datacubes with consistent 30m spatial resolution and regular temporal intervals. These sources are described in the “Data” section.\nMachine learning and deep learning (ML/DL) classification algorithms require the input data to be consistent. The dimensionality of the data used for training the model has to be the same as that of the data to be classified. There should be no gaps and no missing values. Thus, to use machine learning algorithms for remote sensing data, image collections should be converted to regular data cubes. The LUC-Brasil project uses regular data cubes produced by GLAD (Global Land Analysis & Discovery) from the University of Maryland for the period 2000-2015 and by the Brazil Data Cube for the period 2015-2025. The reason to use the GLAD data before 2015 is the limitations of the Landsat-5 and Landsat-7 satellites which were available in this period. The team at University of Maryland invested in reducing the radiometric and geometric problems of these satellites. To do so, they chose a two-month interval for their time series. By contrast, images in the Brazil Data Cube from 2015 onwards rely primarily on the Landsat-8 satellite, which has a much better geometrical and radiometric quality than the previous Landsat satellites. For this reason, images from 2015 onwards have a one-month temporal interval. This multi-source temporal integration enables robust classification across the 25-year analysis period (2000-2024) despite varying data availability.\nThe Brazilian Amazon biome was divided into four ecoregions, according to their intrinsic natural variability and different patterns of human occupation (see Figure 1). Ecoregion 1 covers the Amapá and Roraima states, and parts of the Pará and Amazonas states in the North side of the Negro, Solimoes and Amazonas rivers. This regions is largely preserved, but has hot-spots of deforestation in Roraima. It also has a sizeable non-forest area in Roraima. Ecoregion 2 is the area bound by the Madeira and Negro rivers. It is mostly composed of native forest, except for the State of Acre and the recent expansion of deforestation along the Transamazonica road. Ecoregion 3 is the most affected by deforestation since the 1990s, which large areas of clearings used for pasture and agriculture. This is the area of Amazonia that has registered the largest deforestation rates measured by INPE’s PRODES system. Ecoregion 4 includes area of long-term human occupation in the Pará State (Zona Bragantina) where there is significant presence of planted forests and perennial agriculture (e.g., cocoa and oil palm). It is also the region of contact with the Cerrado areas in the State of Maranhão.\n\n\n\n\nFigure 1: Ecoregions of the Amazonia biome for classification"
  },
  {
    "objectID": "methods.html#stage-2-sample-selection-and-analysis",
    "href": "methods.html#stage-2-sample-selection-and-analysis",
    "title": "Methods",
    "section": "Stage 2: Sample Selection and Analysis",
    "text": "Stage 2: Sample Selection and Analysis\nThe team analyzed the ground truth samples available described in the “Data” section of this document using visual interpretation, exploratory data analysis, and quality assurance using self-organized maps. The visual analysis step consists of comparing the labelled samples from different sources with image backgrounds which can be either high-resolution images (e.g., Planet) or mid-resolution (e.g., Sentinel-2).\nExploratory data analysis refers to inspecting the samples time series and also finding patterns in the data, as shown in Figure 2. In the left side, one can see the spatial location of the samples for herbaceous pasture provided by EMBRAPA. The graph on the top right shows all of the associated time series for the NDVI band, together with their median (shown in brown) and the first and third quartile ranges (shown in yellow). The graph on the lower right shows a plots that captures the temporal variability of herbaceous pasture samples in the different bands. We use a generalized additive model (GAM) to obtain a single time series based on statistical approximation.\n\n\n\n\nFigure 2: Exploratory data analysis of herbaceous pasture samples\n\n\n\nThe sample quality assurance part uses self-organizing maps (SOM), a clustering method where high-dimensional data is mapped into a two-dimensional map, The input data for quality assessment is a set of training samples, which are high-dimensional data; for example, a time series with 25 instances of 4 spectral bands has 100 dimensions. When projecting a high-dimensional dataset into a 2D SOM map. Each time series will be mapped to one of the neurons. Since the number of neurons is smaller than the number of classes, each neuron will be associated with many time series. The resulting 2D map will be a set of clusters. The neighbors of each neuron of a SOM map provide information on intraclass and interclass variability, which is used to detect noisy samples. The methodology of using SOM for sample quality assessment is discussed in detail in the reference paper [1].\nBased on the SOM analysis, we selected two sample collections, one for the 2000-2014 period, and other for the 2015-2024 period, which are summarized below. We first present the training set for 2000-2014.\n\nlibrary(sits)\n\nSITS - satellite image time series analysis.\n\n\nLoaded sits v1.5.5.\n        See ?sits for help, citation(\"sits\") for use in publication.\n        Documentation avaliable in https://e-sensing.github.io/sitsbook/\n\n# retrieve the samples for the 2000-2015 period\nsamples_amz_2010 &lt;- readRDS(\"./etc/samples_amz_2010.rds\")\nsummary(samples_amz_2010)\n\n# A tibble: 11 × 3\n   label                      count   prop\n   &lt;chr&gt;                      &lt;int&gt;  &lt;dbl&gt;\n 1 Annual Agriculture          1160 0.0927\n 2 Forest                      1162 0.0929\n 3 Herbaceous Pasture          2900 0.232 \n 4 Mountainside_Forest          127 0.0102\n 5 Riparian_Forest              865 0.0691\n 6 Seasonally_Flooded           731 0.0584\n 7 Secondary Vegetation        2186 0.175 \n 8 Semi-Perennial Agriculture   757 0.0605\n 9 Shrubby Pasture              584 0.0467\n10 Silviculture                1856 0.148 \n11 Wetlands                     184 0.0147\n\n\nSome of the classes used in the training sample set are not included in the final LUC-Brazil classes. These include classes such as “Riparian_Forest” and “Seasonally_Flooded”. These classes are useful to discriminate between different types of natural forests and are later aggregated into the “Forest” class. Other classes produced by LUC-Brazil such as “Perennial Vegetation” are not present in the data set and are added later using reclassification rules. Extensive testing by the team shows that this class is not detectable using Landsat-5 and Landsat-7 images.\nFor the period 2015-2020, the distribution of the training set is shown below.\n\n# retrieve the samples for the 2000-2015 period\nsamples_amz_2020 &lt;- readRDS(\"./etc/samples_amz_2010.rds\")\nsummary(samples_amz_2020)\n\n# A tibble: 11 × 3\n   label                      count   prop\n   &lt;chr&gt;                      &lt;int&gt;  &lt;dbl&gt;\n 1 Annual Agriculture          1160 0.0927\n 2 Forest                      1162 0.0929\n 3 Herbaceous Pasture          2900 0.232 \n 4 Mountainside_Forest          127 0.0102\n 5 Riparian_Forest              865 0.0691\n 6 Seasonally_Flooded           731 0.0584\n 7 Secondary Vegetation        2186 0.175 \n 8 Semi-Perennial Agriculture   757 0.0605\n 9 Shrubby Pasture              584 0.0467\n10 Silviculture                1856 0.148 \n11 Wetlands                     184 0.0147"
  },
  {
    "objectID": "methods.html#stage-3-model-training",
    "href": "methods.html#stage-3-model-training",
    "title": "Methods",
    "section": "Stage 3: Model Training",
    "text": "Stage 3: Model Training\nAfter experimenting with the different algorithms available in `sits, we chose the RandomForest method, which provides a reliable performance in the case of noisy data such as the images from Landsat-5 and Landsat-7 satellite. We performed a 5-fold validation of both models and present thre results below.\nThe confusion matrix and the metrics for the 2000-2014 model are shown below.\n\n\n\n\nFigure 3: Confusion matrix for the 2000-2015 Random Forest model\n\n\n\n\n\n\n\nFigure 4: Metrics for the 2000-2014 Random Forest model\n\n\n\nThe results of the validation show a good degree of discrimination for the classes “Annual_Agriculture”, “Semi-Perennial Agriculture”, and “Herbaceous Pasture”. The natural forest classes (“Forest”, “Mountainside_Forest”, “Riparian_Forest” and “Seasonally_Flooded”) show a reasonable degree of internal confusion, which is not a big problem, since they will later aggreggated into a single class (“Forest”). The confusion between “Secondary_Vegetation” and “Forest” is to be expected; this confusion is solved using the PRODES maps.\nOverall, the main problem is the distinction between the “Shrubby Pasture”, “Secondary Vegetation” and “Silviculture” classes. While the TerraClass maps provide a good basis for improving the classification of “Semi=Perennial Agriculture” and “Silviculture” classes, the main problem remains in the distinction between “Shrubby Pasture” and “Secondary Vegetation”. Indeed, these classes are hard to separate even in higher-resolution images.\nThe confusion matrix and the metrics for the 2015-2024 model are shown below.\n\n\n\n\nFigure 5: Confusion matrix for the 2015-2024 Random Forest model\n\n\n\n\n\n\n\nFigure 6: Metrics for the 2015-2024 Random Forest model\n\n\n\nThe results show that the 2014-2024 model discriminates the classes better than the 2000-2014 one. This outcome is expected due to the better quality of the Landsat-8 images. Compared to the 2000-2014 model, the “Silviculture” class is better defined, and the distinction between “Secondary Vegetation” and “Herbaceous Pasture” improves. The same remarks made earlier about the natural classes apply also in this case."
  },
  {
    "objectID": "methods.html#stage-4-datacube-classification",
    "href": "methods.html#stage-4-datacube-classification",
    "title": "Methods",
    "section": "Stage 4: Datacube Classification",
    "text": "Stage 4: Datacube Classification\nThe datacube classification is done on an yearly basis. For each year, each spatial location (pixel) of the data cubes is associated to a time series. Each time series is then classified by the machine learning model. The result is a classified map for each year. The classification process is described in the detail in the on-line book about the sits package."
  },
  {
    "objectID": "methods.html#stage-5-reclassification-rules",
    "href": "methods.html#stage-5-reclassification-rules",
    "title": "Methods",
    "section": "Stage 5: Reclassification rules",
    "text": "Stage 5: Reclassification rules\nAfter the annual classification maps have been produced, the LUC-Brazil team applies a series of reclassification rules, which are described in detail in the next section."
  },
  {
    "objectID": "methods.html#references",
    "href": "methods.html#references",
    "title": "Methods",
    "section": "References",
    "text": "References\n\n\n\n\n[1] \nL. A. Santos, K. R. Ferreira, G. Camara, M. C. A. Picoli, and R. E. Simoes, “Quality control and class noise reduction of satellite image time series,” ISPRS Journal of Photogrammetry and Remote Sensing, vol. 177, pp. 75–88, 2021, doi: 10.1016/j.isprsjprs.2021.04.014."
  },
  {
    "objectID": "reclassification.html#base-mask-preparation",
    "href": "reclassification.html#base-mask-preparation",
    "title": "Reclassification rules",
    "section": "Base Mask Preparation",
    "text": "Base Mask Preparation\nBase Mask Preparation is a key part in the classification pipeline. It prepares reference masks from two authoritative external datasets: PRODES deforestation monitoring data, Terraclass land use and land cover maps, and water masks. These base masks serve as ground truth references for all downstream processing stages.\nThe base mask preparation includes geomtrically adjusting the PRODES deforestation mask to remove some inconsistencies in the border pixels which distort the overall statistics."
  },
  {
    "objectID": "reclassification.html#reclassification-part-1-yearly-rules-defined-by-masks",
    "href": "reclassification.html#reclassification-part-1-yearly-rules-defined-by-masks",
    "title": "Reclassification rules",
    "section": "Reclassification Part 1: Yearly Rules Defined by Masks",
    "text": "Reclassification Part 1: Yearly Rules Defined by Masks\n\nSecondary Vegetation Rule\nThis rule distinguishes forested area in Amazonia between primary forests and secondary vegetation. To that aim, it uses the PRODES mask, which indicates the primary forest area. The secondary vegetation areas are those that have been deforested and then abandoned so that a forest regeneration process has started.\n\n\nCurrent Deforestation Rule\nFor each year, the PRODES masks also contains information on forest removal on the current rule. This rule ensures that all areas deforested in a given year are not marked as “Pasture” or “Agriculture”, since TerraClass also follows the same convention of not classifying land use for areas deforested in the year it is produced.\n\n\nResiduals Rule\nThis rule is necessary due to problems in the PRODES mask. Sine PRODES only observes one image per year for a given Landsat tile, some areas are not observed due to clouds and are masked as such. When such areas are visible in later years and then assigned as “residuals”. Since LUC-Brasil uses time series which enable removal of most cloudy areas, this rule assigns PRODES residuals to the “Pasture” class.\n\n\nSilviculture Rule #1\nThis rule improves the representation of silviculture (planted forests) by using TerraClass maps as a reference. Pixels in the LUC-Brasil maps are thus updated to reflect the TerraClass maos. This rule is applied only to the years where TerraClass maps are available. There is another rule (see below) that updates the “Silviculture” class in years without TerraClass maps.\n\n\nSilviculture Rule #2\nThis rule considers the case of pixels classified as “Silviculture” by LUC-Brasil which are not classified as such by TerraClass. These pixels are reclassified as “Pasture”.\n\n\nSemi-Perennial Agriculture Rule #1\nThis rule reclassifies the LUC-Brasil pixels to match the TerraClass “Semi-Perennial Agriculture” class, in the years where TerraClass maps are available.\n\n\nSemi-Perennial Agriculture Rule #2\nThis rule reclassifies the LUC-Brasil pixels which are classified as “Semi-Perennial Agriculture” but that do not match any agricultural label in the TerraClass maps. Such pixels are reclassified as “Pasture”. The rule applies in the years where TerraClass maps are available.\n\n\nSemi-Perennial Agriculture Rule #3\nThis rule reclassifies the LUC-Brasil pixels which are classified as “Semi-Perennial Agriculture” to match the TerraClass “Temporary Agriculture” class, in the years where TerraClass maps are available.\n\n\nAnnual Agriculture Rule\nThis rule reclassifies the LUC-Brasil pixels which are classified as “Semi-Perennial Agriculture” to match the TerraClass “Temporary Agriculture” class, in the years where TerraClass maps are available.\n\n\nMining Rule\nThis rule includes areas which TerraClass identifies as “Mining”, since the LUC-Brasil classes detected using Landsat do not provide a consistent basis for such classification.\n\n\nUrban Areas Rule\nThis rule includes areas which TerraClass identifies as “Urban Areas”, since the LUC-Brasil classes detected using Landsat do not provide a consistent basis for such classification.\n\n\nWater Bodies Rule #1\nThis rule includes areas which TerraClass identifies as “Water Bodies” and maps them to the “Water” class, provided that LUC-Brasil did not identify them as either “Wetlands” or “Seasonally Flooded”.\n\n\nWater Bodies Rule #2\nThis rule includes areas which PRODES identifies as “Hidrography” and and maps them to the “Water” class, provided that LUC-Brasil did not identify them as either “Wetlands” or “Seasonally Flooded”.\n\n\nNatural Non-Forest Areas Rule\nThis rule reclassifies as “Natural Non-Forest” pixels which fall inside the PRODES mask of “Non-Forest” class."
  },
  {
    "objectID": "reclassification.html#reclassification-part-2-multi-year-rules",
    "href": "reclassification.html#reclassification-part-2-multi-year-rules",
    "title": "Reclassification rules",
    "section": "Reclassification Part 2: Multi-year Rules",
    "text": "Reclassification Part 2: Multi-year Rules\n\nWater Consistency Rule\nProcesses a 3-year window centered on 2019, identifying pixels classified as “Water” across any of the years 2018, 2019, and 2020 are reclassified as “Water” for all three years.\n\n\nPerennial Agriculture Trajectory\nProcesses data for each of 5 specific years (2009, 2011, 2013, 2019, 2021), which lie between years where TerraClass exists. For each year, reclassifies a pixel as “Perennial Agriculture” if the pixel has this label in the TerraClass map of the following year.\n\n\nSecondary Vegetation - Pasture Consistency\nProcesses all pixels from 2001 to 2021 considering a period of three consecutive years. For each 3-year window, if the pixel class in the current year is “Secondary Vegetation” and “Pasture” in both the previous and the subsequent years, it is reclassified as “Pasture”."
  },
  {
    "objectID": "reclassification.html#annual-agriculture",
    "href": "reclassification.html#annual-agriculture",
    "title": "Reclassification rules",
    "section": "Annual Agriculture",
    "text": "Annual Agriculture\n\nAnnual Agriculture (Lines 164-192): Builds a temporal brick from all years and applies agricultural detection. The brick is then split back into individual years. Output is versioned as temporal-mask-4."
  },
  {
    "objectID": "reclassification.html#stage-5-year-specific-mask-generation",
    "href": "reclassification.html#stage-5-year-specific-mask-generation",
    "title": "Reclassification rules",
    "section": "Stage 5: Year-Specific Mask Generation",
    "text": "Stage 5: Year-Specific Mask Generation\nThe final stage generates individual annual masks for years 2000-2022 by applying 19-24 sequential reclassification rules to the temporally-processed classifications. Each year has a dedicated script (e.g., mask-2015.R, mask-2020.R) that follows a common 22-step pipeline."
  },
  {
    "objectID": "reclassification.html#perennial-agriculture-rule",
    "href": "reclassification.html#perennial-agriculture-rule",
    "title": "Reclassification rules",
    "section": "Perennial Agriculture Rule",
    "text": "Perennial Agriculture Rule\nThis rule validates perennial crop classifications by consulting TerraClass reference data from surrounding years (year-1 and year+1). Perennial crop pixels are only retained if TerraClass confirms their presence in adjacent years, reducing false positives.\nThe rule targets specific years where TerraClass surveys are available:\n\n\n\n\n\n\n\n\n\nTarget Year\nTerraClass Before (year-1)\nTerraClass After (year+1)\nRationale\n\n\n\n\n2009\n2008\n2010\nBetween consecutive TerraClass surveys\n\n\n2011\n2010\n2012\nBetween consecutive surveys\n\n\n2013\n2012\n2014\nBetween consecutive surveys\n\n\n2019\n2018\n2020\nBetween consecutive surveys\n\n\n2021\n2020\n2022\nBetween consecutive surveys"
  },
  {
    "objectID": "reclassification.html#secondary-vegetation-pasture-rule",
    "href": "reclassification.html#secondary-vegetation-pasture-rule",
    "title": "Reclassification rules",
    "section": "Secondary Vegetation-Pasture Rule",
    "text": "Secondary Vegetation-Pasture Rule\nThis analyzes vegetation-secondary (SV) to pasture transitions by examining 3-year trajectories. This rule identifies pixels classified as SV that are surrounded by pasture classifications in adjacent years, helping distinguish true secondary vegetation from misclassified pasture areas.\nThe rule processes 21 consecutive years from 2001 to 2025, creating overlapping 3-year windows. For each target year, the algorithm examines year-1, year, and year+1 classifications to detect VS-pasture patterns."
  },
  {
    "objectID": "reclassification.html#annual-agriculture-rule-1",
    "href": "reclassification.html#annual-agriculture-rule-1",
    "title": "Reclassification rules",
    "section": "Annual Agriculture Rule",
    "text": "Annual Agriculture Rule\nThis rule identifies annual agriculture patterns by analyzing the complete temporal series of all years simultaneously. Unlike the previous rules that process specific year subsets, this rule considers all years and applies agricultural detection logic across the entire time series."
  },
  {
    "objectID": "reclassification.html#reclassification-part-2-year-specific-mask-generation",
    "href": "reclassification.html#reclassification-part-2-year-specific-mask-generation",
    "title": "Reclassification rules",
    "section": "Reclassification Part 2: Year-Specific Mask Generation",
    "text": "Reclassification Part 2: Year-Specific Mask Generation\n\nWater Consistency Rule\nProcesses a 3-year window centered on 2019, identifying pixels classified as “Water” across any of the years 2018, 2019, and 2020 are reclassified as “Water” for all three years.\n\n\nPerennial Agriculture Trajectory\nThis rule validates perennial crop classifications by consulting TerraClass reference data from surrounding years (year-1 and year+1). Perennial crop pixels are only retained if TerraClass confirms their presence in adjacent years, reducing false positives.\nThe rule targets specific years where TerraClass surveys are available:\n\n\n\n\n\n\n\n\n\nTarget Year\nTerraClass Before (year-1)\nTerraClass After (year+1)\nRationale\n\n\n\n\n2009\n2008\n2010\nBetween consecutive TerraClass surveys\n\n\n2011\n2010\n2012\nBetween consecutive surveys\n\n\n2013\n2012\n2014\nBetween consecutive surveys\n\n\n2019\n2018\n2020\nBetween consecutive surveys\n\n\n2021\n2020\n2022\nBetween consecutive surveys\n\n\n\n\n\nSecondary Vegetation - Pasture Consistency\nThis rule analyzes secondary vegetation (SV) to pasture transitions by examining 3-year trajectories. This rule identifies pixels classified as SV that are surrounded by pasture classifications in adjacent years, helping distinguish true secondary vegetation from misclassified pasture areas.\nThe rule processes 21 consecutive years from 2001 to 2025, creating overlapping 3-year windows. For each target year, the algorithm examines year-1, year, and year+1 classifications to detect SV-pasture patterns."
  }
]